<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="474px" height="1184px" viewBox="-0.5 -0.5 474 1184" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-09-16T08:15:11.827Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.63 Safari/537.36&quot; version=&quot;15.0.4&quot; etag=&quot;aIFi3tTUa6L4-YQApP_v&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;lQsWRMvgRagVjoWjtVZm&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 0 26 L 0 0 L 472.5 0 L 472.5 26" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 26 L 0 1180 L 472.5 1180 L 472.5 26" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 26 L 472.5 26" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="235.75" y="17.5">Exchange</text></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 463px; height: 1px; padding-top: 33px; margin-left: 6px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 190px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">- _domain: Optional[str]<br />- _order_book_tracker: <b>OrderBookTracker</b><br />- _user_stream_tracker: <b>UserStreamTracker</b><br />- _auth: <b>Auth<br /></b>- _in_flight_orders: Dict[str, <b>InFlightOrder</b>]<br />- _shared_client: aiohttp.ClientSession<br />- _trading_pairs: List[str]<br /><b><font color="#cc0000">Perpetual Attributes<br /></font></b><font color="#cc0000">- _account_positions: Dict[str, Position]<br />- _position_mode: PositionMode<br />- _leverage: Dict[str, int]<br />- _funding_info: Dict[str, FundingInfo]<br />- _funding_payment_span: List[int]<br /></font></div></div></div></foreignObject><text x="6" y="45" fill="#000000" font-family="Helvetica" font-size="12px">- _domain: Optional[str]...</text></switch></g><path d="M 0 224 L 472.5 224" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 463px; height: 1px; padding-top: 235px; margin-left: 6px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 948px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>Placing Orders<br /></b>+ buy(trading_pair: str, amount: Decimal, price: Decimal, order_type: OrderType)<br />+ sell(trading_pair: str, amount: Decimal, price: Decimal, order_type: OrderType)<br />- <i>async</i> _create_order(...)<br /><b>Canceling Orders<br /></b>+ cancel(trading_pair: str, order_id: str): str<br />- <i>async</i> _execute_cancel(trading_pair: str, order_id: str): str<br /><b>Tracking Orders, Balances &amp; Positions<br /></b>+ start_tracking_order(order_id:str, <br />                                    exchange_order_id: str,<br />                                    trading_pair: str,<br />                                    trade_type: TradeType,<br />                                    price: Decimal,<br />                                    amount: Decimal,<br />                                    order_type: OrderType)<br />+ stop_tracking_order(order_id: str)<br />- async _user_stream_event_listener()<br />- <i>async</i> _status_polling_loop():<br />- <i>async</i> _update_balances():<br />- <i>async</i> _update_order_status():<br />- _process_order_message(order_msg: Dict[str, Any])<br />- _process_trade_message(order_msg: Dict[str, Any])<br /><b>Trading Rules<br /></b>+ get_order_price_quantum(trading_pair: str, price: Decimal)<br />+ get_order_size_quantum(trading_pair: str, order_size: Decimal)<br />- <i>async</i> _trading_rules_polling_loop()<br />- <i>async</i> _update_trading_rules()<br />- _format_trading_rules(market_info: Dict[str, Any]): Dict[str, TradingRule]<br /><b>Additional Function(s)</b><br />+ async _api_request(method: str,<br />                                    path_url: str,<br />                                    params: Optional[Dict[str, Any]] = None,<br />                                    data: Optional[Dict[str, Any]] = None,<br />                                    is_auth_required: bool = False): Dict[str, Any]<br />+ <i>async</i> start_network()<br />+ <i>async</i> stop_network()<br />+ <i>async</i> check_network()<br />+ get_order_book(trading_pair: str): OrderBook<br />+ async get_open_orders(): List[OpenOrder]<br />+ restore_tracking_states(saved_states: Dict[str, any]]<br />+ supported_order_types(): List[OrderType]<br />- async _http_client(): aiohttp.ClientSession<br />+ get_fee(base_currency: str,<br />                quote_currency: str,<br />                order_type: OrderType,<br />                order_side: TradeType,<br />                amount: Decimal,<br />                price: Decimal): TradeFee<br /><b><font color="#cc0000">Perpetual Functions</font></b><span style="color: rgb(204 , 0 , 0)"><br /></span><font color="#cc0000">- _update_account_positions()</font><br style="color: rgb(204 , 0 , 0)" /><span style="color: rgb(204 , 0 , 0)">+ supported_position_modes(): List[PositionModes]</span><font color="#cc0000"><br />+ set_leverage(trading_pair: str, leverage: int = 1)<br /></font><span style="color: rgb(204 , 0 , 0)">- _funding_info_polling_loop()</span><br /><b>Properties</b><br />+ name(): str<br />+ order_books(): Dict[str, OrderBook]<br />+ trading_rules(): Dict[str, TradingRule]<br />+ in_flight_orders(): Dict[str, InFlightOrder]<br />+ status_dict(): Dict[str, bool]<br />+ ready(): bool<br />+ limit_orders(): List[LimitOrder]<br />+ tracking_states(): Dict[str, any]<br /><font color="#cc0000"><b>Perpetual Properties</b><br />+ account_positions(): Dict[str, Position]<br />+ funding_payment_span(): List[int]<br />+ position_mode(): PositionMode<br /></font></div></div></div></foreignObject><text x="6" y="247" fill="#000000" font-family="Helvetica" font-size="12px">Placing Orders...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>