![Hummingbot](https://i.ibb.co/X5zNkKw/blacklogo-with-text.png)
# Hummingbot Gateway
----

Hummingbot Gateway is a REST API that exposes connections to various blockchains (wallet, node & chain interaction) and decentralized exchanges (pricing, trading & liquidity provision). It is written in Typescript and takes advantage of existing blockchain and DEX SDKs. The advantage of using gateway is it provideds a programming language agnostic approach to interacting with blockchains and DEXs.

Gateway may be used alongside the main Hummingbot client to enable trading on DEXs, or as a standalone module by external developers.

## Connectors

This is a list of DEX connections currently supported by Gateway.

| Connector   | Blockchain | Trading Interface |
|-------------|------------|-------------------|
| UniswapV2   | Ethereum   | AMM               |
| Pangolin    | Avalanche  | AMM               |

## Contributing

There are a number of ways to contribute to gateway.

- Add a new blockchain.

- Add a new connector/DEX.

- Fix a bug.

- File an issue at [hummingbot issues](https://github.com/hummingbot/hummingbot/issues)

- Make a PR for anything useful on [hummingbot](https://github.com/hummingbot/hummingbot/).

- Vote on a snapshot proposal: [Hummingbot PRP](https://snapshot.org/#/hbot-prp.eth), [Hummingbot Foundation - HGP](https://snapshot.org/#/hbot.eth), [Hummingbot Improvement Proposals](https://snapshot.org/#/hbot-ip.eth).

## Configuration

Before running gateway, you need to setup some configs. You can start by copying all of the yml files from [src/templates](./src/templates) to [conf](./conf). The format of this files are dictated by [src/services/config-manager-v2.ts](./src/services/config-manager-v2.ts) and the corresponding schema files in [src/services/schema](./src/services/schema) .

### Useful configuration options

- If you want to use Ethereum, add your Infura API key to [conf/ethereum.yml](./conf/ethereum.yml). 

- If you want to turn off `https`, set `unsafeDevModeWithHTTP` to `true` in [conf/server.yml](./conf/server.yml). 

- If you gateway to log to standard out, set `logToStdOut` to `true` in [conf/logging.yml](./conf/logging.yml).

- Edit the path to the SSL files in [conf/ssl.yml](./conf/ssl.yml). This can be generated by hummingbot with `gateway generate-certs`. 

The hummingbot client is also able to edit this config files.

## Install and run locally

Compile the Typescript code with `npm` or `yarn` .

```bash
yarn
yarn build
yarn dev --passphrase=<ssl-files-passphrase>
# the passphrase can be anything if unsafeDevModeWithHTTP is true
```

## Documentation

The API is documented using swagger: [gateway swagger docs](./docs/swagger). You can run the gateway swagger UI by starting gateway and visiting [localhost:8080](localhost:8080).

You can follow details about [trading interfaces](https://hummingbot.notion.site/Gateway-v2-Trading-Interfaces-482e2684d48c450ebcfff5401ba806aa)

Also, we maintain docs on the official website about gateway [here](https://hummingbot.org/protocols/gateway/).

### Files to read

Here are some files we recommend you look at in order to get familiar with the gateway code base.

- [src/services/ethereum-base.ts](./src/services/ethereum-base.ts) is a base class for EVM chains.

- [src/connectors/uniswap/uniswap.ts](./src/connectors/uniswap/uniswap.ts) has functionality for interacting with Uniswap V2.

- [src/services/validator.ts](./src/services/validator.ts) defines functions for validating request payloads.


### Testing

When making a PR, there are unit test coverage requirements. Look at our [github workflow](../.github/workflows/workflow.yml) for the exact definition. There are some more

#### Unit tests

Read this document for more details about how to write unit test in gateway: [How we write unit tests for gateway](./docs/testing.md).

Run all unit tests.

```bash
yarn test:unit
```

Run an individual test file.

```bash
yarn jest test/app.test.ts
```

#### Manual tests

We have found it is useful to test individual endpoints with `curl` commands. We have a collection of prepared curl calls. POST bodies are stored in JSON files. Take a look at the [curl calls for gateway](./manual_tests/curl.sh). Note that some environment variables are expected.

## Linting

This repo uses `eslint` and `prettier`. When you run `git commit` it will trigger the `pre-commit` hook. This will run `eslint` on the `src` and `test` directories.

You can lint before committing with:

```bash
yarn run lint
```

You can run the prettifier before committing with:

```bash
yarn run prettier
```

